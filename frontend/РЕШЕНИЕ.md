# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –ü—Ä–æ–±–ª–µ–º–∞
Frontend –ø—ã—Ç–∞–ª—Å—è –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å base64 –¥–∞–Ω–Ω—ã–µ PDF –≤–º–µ—Å—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –æ—à–∏–±–∫–µ:
```
Image source was: data:application/pdf;base64,...
```

### –†–µ—à–µ–Ω–∏–µ
Frontend —Ç–µ–ø–µ—Ä—å **—Å–∞–º —Ä–∏—Å—É–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏** –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö:

1. **–î–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (JPG, PNG –∏ —Ç.–¥.):**
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ backend –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π
   - –§–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ canvas
   - –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ä–∏—Å—É—é—Ç—Å—è –ø–æ–≤–µ—Ä—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - –†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

2. **–î–ª—è PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:**
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π PDF —Ñ–∞–π–ª
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ backend –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π
   - PDF.js –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∫–∞–∂–¥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É PDF –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
   - –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ä–∏—Å—É—é—Ç—Å—è –ø–æ–≤–µ—Ä—Ö –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### –î–æ–±–∞–≤–ª–µ–Ω–æ:

1. **`drawAnnotationsOnImage(imageSrc, annotations, pageSize)`** - —Ä–∏—Å—É–µ—Ç bounding boxes –ø–æ–≤–µ—Ä—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç base64 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
   - –†–∏—Å—É–µ—Ç –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–≤–µ—Ç–æ–≤—É—é –∫–æ–¥–∏—Ä–æ–≤–∫—É:
     - üü¢ –ó–µ–ª–µ–Ω—ã–π - signature (–ø–æ–¥–ø–∏—Å—å)
     - üî¥ –ö—Ä–∞—Å–Ω—ã–π - stamp (–ø–µ—á–∞—Ç—å)
     - üîµ –°–∏–Ω–∏–π - qr_code (QR-–∫–æ–¥)

2. **`loadPdfPages(file)`** - –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç PDF –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç PDF.js
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ base64 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: 2.0 (–≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ)

3. **–û–±–Ω–æ–≤–ª–µ–Ω–∞ `displayResults()`** - —Ç–µ–ø–µ—Ä—å async —Ñ—É–Ω–∫—Ü–∏—è
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø —Ñ–∞–π–ª–∞ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ PDF)
   - –î–ª—è PDF: –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —Ä–∏—Å—É–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –Ω–∞ –∫–∞–∂–¥–æ–π
   - –î–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: —Ä–∏—Å—É–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ

## Backend –ù–ï –∏–∑–º–µ–Ω—è–ª—Å—è

Backend –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –∏ —Ä–∞–Ω—å—à–µ:
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ–∞–π–ª—ã
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Ö —á–µ—Ä–µ–∑ YOLO –º–æ–¥–µ–ª—å
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```json
{
  "filename.pdf": {
    "page_1": {
      "annotations": [...],
      "page_size": {"width": 1920, "height": 1080}
    }
  }
}
```

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ backend:**
   ```bash
   cd backend
   python main.py
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ frontend:**
   ```bash
   cd frontend
   python3 -m http.server 8080
   ```

3. **–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ http://localhost:8080
   - –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ PDF
   - –†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏

## –¶–≤–µ—Ç–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π

- **Signature (–ü–æ–¥–ø–∏—Å—å)**: –ó–µ–ª–µ–Ω—ã–π (#00ff00)
- **Stamp (–ü–µ—á–∞—Ç—å)**: –ö—Ä–∞—Å–Ω—ã–π (#ff0000)  
- **QR Code**: –°–∏–Ω–∏–π (#0000ff)

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- **PDF.js 3.11.174** - –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ PDF –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å CDN)
- **Canvas API** - –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π (–≤—Å—Ç—Ä–æ–µ–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä)

## –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

Frontend –≤—ã–≤–æ–¥–∏—Ç –ø–æ–ª–µ–∑–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:
- –ó–∞–≥—Ä—É–∑–∫–∞ PDF —Å—Ç—Ä–∞–Ω–∏—Ü
- –†–∏—Å–æ–≤–∞–Ω–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π
- –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏

–û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤.

